"use strict";var _createClass=function(){function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){var e=function(){function e(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,e)}return _createClass(e,[{key:"bind_events",value:function(){document.addEventListener("selectstart",this.on_select_start.bind(this)),document.addEventListener("mouseup",this.on_mouse_up.bind(this)),document.addEventListener("mousedown",this.on_mouse_down.bind(this)),document.addEventListener("mousemove",this.on_mouse_move.bind(this))}},{key:"on_select_start",value:function(e){e.preventDefault()}},{key:"on_mouse_up",value:function(e){document.removeEventListener("mousemove"),document.removeEventListener("mouseup")}},{key:"on_mouse_down",value:function(e){}},{key:"on_mouse_move",value:function(e){}},{key:"attach",value:function(){var c,d,r,u=document.createElement("div"),t=!1;function n(e){var t=e.pageX,n=e.pageY,o=Math.min(d,n),s=Math.min(c,t),a=Math.abs(c-t),i=Math.abs(d-n);u.setAttribute("style","position: absolute;border: 1px solid rgba(166, 193, 255, .8);background: rgba(166, 193, 255, .3);left:"+s+"px;top:"+o+"px;width:"+a+"px;height:"+i+"px;"),r.forEach(function(e){var t=e.element;t.offsetLeft>=s&&t.offsetTop>=o&&t.offsetLeft+t.offsetWidth<=s+a&&t.offsetTop+t.offsetHeight<=o+i?e.isSelected?t.classList.remove("is-selected"):t.classList.add("is-selected"):e.isSelected?t.classList.add("is-selected"):t.classList.remove("is-selected")})}function o(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o),t=!0,u.style.display="none",r=[]}document.body.appendChild(u),document.addEventListener("selectstart",function(e){e.preventDefault()}),document.addEventListener("mousedown",function(e){t=!1,c=e.pageX,d=e.pageY,r=document.querySelectorAll(".selectable"),r=Array.prototype.map.call(r,function(e){return{element:e,isSelected:e.classList.contains("is-selected")}}),document.addEventListener("mouseup",o),setTimeout(function(){t||document.addEventListener("mousemove",n)},100)})}},{key:"test",value:function(){var t,n,e=document.getElementById("element-container"),o=document.getElementById("el-box"),s={x:0,y:0,startX:0,startY:0};e.addEventListener("mousemove",function(e){t=e.clientX,n=e.clientY,o.style.position="absolute",void 0!==t&&(o.style.left=t-10+"px",o.style.top=n-10+"px")},!1),o.addEventListener("dragstart",function(e){s.startX=s.x,s.startY=s.y},!1),o.addEventListener("dragend",function(e){o.style.width="10px",o.style.height="10px",t=e.clientX,n=e.clientY},!1),o.addEventListener("drag",function(e){var t;(t=e||window.event).pageX?(s.x=t.pageX+window.pageXOffset,s.y=t.pageY+window.pageYOffset):t.clientX&&(s.x=t.clientX+document.body.scrollLeft,s.y=t.clientY+document.body.scrollTop),o.style.width=Math.abs(s.x-s.startX)+"px",o.style.height=Math.abs(s.y-s.startY)+"px",o.style.left=s.x-s.startX<0?s.x+"px":s.startX+"px",o.style.top=s.y-s.startY<0?s.y+"px":s.startY+"px"},!1)}}]),e}();window||(window={}),window.DragEnSelect||(window.DragEnSelect={}),(new(window.DragEnSelect=e)).attach()}();